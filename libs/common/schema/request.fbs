table Event {
  id:[ubyte];
  type:uint16;
  aggregate_id:[ubyte];
  aggregate_version:uint32;
  body:[ubyte];
  metadata:[ubyte];
  timestamp:uint32;
}

table ListAggregateEventsRequestBody {
  aggregate_id:[ubyte];
  aggregate_version:uint32;
  limit:uint32;
}

table InsertEventRequestBody {
  event:Event;
}

union RequestBody {
  InsertEvent:InsertEventRequestBody,
  ListAggregateEvents:ListAggregateEventsRequestBody
}

table Request {
  body:RequestBody;
}

root_type Request;
